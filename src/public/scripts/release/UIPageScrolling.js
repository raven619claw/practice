!function(a){var b={sections:"section",easing:"ease",time:800,beforeMoveFunc:null,afterMoveFunc:null,isCyclic:!1,isVertical:!0,sectionsControl:null,captureKeyboard:!0,captureTouch:!0};a.fn.UIPageScrolling=function(c){function d(){l.unbind("mousemove").unbind("mouseup").bind("mousedown",e)}function e(){var a=-1;l.bind("mousemove",function(b){var c;-1==a&&(a=j.isVertical?b.clientY:b.clientX),c=a-(j.isVertical?b.clientY:b.clientX),c>150&&l.moveNext(),-150>c&&l.movePrevious()}).bind("mouseup",d).unbind("mousedown")}function f(a){a=window.event||a.originalEvent;var b=j.isVertical?a.touches[0].pageY:a.touches[0].pageX;l.bind("touchmove",function(a){a=window.event||a.originalEvent;var c=b-(j.isVertical?a.touches[0].pageY:a.touches[0].pageX);c>=50&&l.moveNext(),-50>=c&&l.movePrevious(),Math.abs(c)>=50&&l.unbind("touchmove")})}function g(b){var c=100*b,d=0,e=0;a(".ui-page-scrolling-section_active").removeClass("ui-page-scrolling-section_active"),a(".ui-page-scrolling-control_active").removeClass("ui-page-scrolling-control_active"),a(".ui-page-scrolling-control[data-index="+b+"]").addClass("ui-page-scrolling-control_active"),a(".ui-page-scrolling-section[data-index="+b+"]").addClass("ui-page-scrolling-section_active"),j.beforeMoveFunc instanceof Function&&j.beforeMoveFunc(b),c>0&&(c=-c),j.isVertical?e=c:d=c,a(this).css({"-webkit-transform":"translate3d("+d+"%, "+e+"%, 0)","-webkit-transition":"all "+j.time+"ms "+j.easing,"-moz-transform":"translate3d("+d+"%, "+e+"%, 0)","-moz-transition":"all "+j.time+"ms "+j.easing,"-ms-transform":"translate3d("+d+"%, "+e+"%, 0)","-ms-transition":"all "+j.time+"ms "+j.easing,transform:"translate3d("+d+"%, "+e+"%, 0)",transition:"all "+j.time+"ms "+j.easing}).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){j.lockManager(),j.afterMoveFunc instanceof Function&&j.afterMoveFunc(b)})}function h(b){switch(b.keyCode){case 38:case 37:case 33:a(this).movePrevious();break;case 40:case 39:case 34:a(this).moveNext()}}function i(b){var c=window.event||b.originalEvent,d=c.wheelDelta||-120*c.detail,e=1e3;c.wheelDelta&&(e=10),-e>d&&a(this).moveNext(),d>e&&a(this).movePrevious()}var j=a.extend({},b,c),k=0,l=a(this),m=0,n=!1,o=!1;return g=g.bind(this),a.fn.moveTo=function(a){if(0>a||a>m)throw new Error("Index must be smaller than count of existing pages and greater than 0");g(a)},a.fn.moveNext=function(){if(!n){var b=a(".ui-page-scrolling-section_active").attr("data-index");b++,b>m&&j.isCyclic&&(b=0),m>=b&&(n=!0,o=!1,a(this).moveTo(b))}},a.fn.movePrevious=function(){if(!o){var b=a(".ui-page-scrolling-section_active").attr("data-index");b--,0>b&&j.isCyclic&&(b=m),b>=0&&(n=!1,o=!0,a(this).moveTo(b))}},h=h.bind(this),i=i.bind(this),j.lockManager=function(){n=!1,o=!1},l.children(j.sections).addClass("ui-page-scrolling-section").each(function(){a(this).css(j.isVertical?{top:100*k+"%"}:{left:100*k+"%"}),a(this).attr("data-index",k++)}),m=k-1,k=0,j.sectionsControl&&a(j.sectionsControl).addClass("ui-page-scrolling-control").each(function(){a(this).attr("data-index",k++).bind("click keypress",function(){l.moveTo(a(this).attr("data-index"))})}),j.captureTouch&&(l.bind("mousedown",e),l.bind("touchstart",f)),l.addClass("ui-page-scrolling-main").bind("mousewheel DOMMouseScroll",i),g(0),j.captureKeyboard&&a(window).bind("keydown",h),a(this)}}(window.jQuery);